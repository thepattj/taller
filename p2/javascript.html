<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    
</head>
<body id='cuerpo'>
    <nav>
    </nav>
    
    <h1>INTRODUCCION A HTML</h1>
<p>La programacion del lado del cleinte(navegador) se lleva acabo en las aplicaciones web por medio de un lenguaje llamado Javascript. Este lenguaje tiene una sintaxis muy sencilla u tienes dos enfoques: programacion y manipulacion/</p>
<p>Del lado de la programacion, este lenguaje cuenta con las caracteristicas propias de cualquier lenguaje. Este es un lenguaje interpretado(no compilado) es decir que necesita un interprete para ser leido y ejecutad, en este caso es el navegador.</p>
<p>Dentro de sus aspectos de programacion, JS tienes dos ambitos diferentes de varibales: locales y globales, este lenguaje es orientado a objetos y eventos, por lo tanto sus funciones necesitan quien las descencadene para ejecutarse correctamente. Esto puede ser llevado a cabo por algun evento o por otra funcion</p>
    
    <script>
        //VARIABLES GLOBALES
        //son vaiables globales debido a que estan fuera de cualquier funcion. se declara con la palabra reservada VAR
        
        var saludo="HOLA!";
        var despedida="ADIOS!";
        
        function ejecutarsaludo(){
            console.log(saludo);
        }
        function ejecutardespedida(){
            console.log(despedida);
        }
        function suma(numero1,numero2){
            var total=numero1+numero2;
            console.log("R="+total);
        }
        function mayoriaEdad(edad){
            if(edad>18){
                console.log("felicidades, eres mayor de edad");
            }else{
                console.log("lo sentimos, no eres mayor de edad");
            }
        }
        function saludosRepetidos(repeticiones){
            for(i+1;i<=repeticiones; i++){
                console.log('HOLA X')
            }
        }
    </script>
    
    <h2>DOCUMENT OBJECT MODEL</h2>
    <p>El lenguaje de JS a demas de cubrir la parte de programacion, tambien se encarga de manicupar la interfaz para volverla interactiva desde el punto de vista de que las acciones del usuario tengan un impacto en la interfaz de manera visual, ta que se necesita dar una retroalimentacion al usuario de que su accion tuvo efecto en el sistema.</p><p>en ese aspecto,JS hace lo anterior por medio de la manipualacion del modelo de los objetos del documento(DOM - Document Object Model). El DOM es una estructura en forma de arbol que cada vez que un navegador carga una apagina web se crea. Dentro de esta estructura se encuentran diferentes ramas que representa diferentes aspectos de la aplicacion y su entorno. Por ejemplo, se encuentra la rama DOCUMENT donde se encutran todos los elementos del documento web, tambien la rama NAVIGATOR donde podemos encontrar las diferentes caracterisiticas del navegador, etc.  Este modelo por si solo representa solamente informacion de cada una de las ramas, pero su verdadera funcionalidad se encuentra en el API que permite a JS manipular o leer lo escrito en la estructura de arbol.</p><p>Cuando manipulamos el DOM lo hacemos pro medio de una programacion o manipulacion de los atributos de los elementos muy parecida a la programacion orienta a objetos, hacemos una instancia de el, es decir, lo mandamos a llamar o lo buscamos. una vez hecho esto, podemos manipular sus atributos o sus metodos en caso de tenerlos, cada uno de los diferentes nodos o elementos de la estructura tipo arbol tiene atribuos y metodos que nos permitaran leer lo que contiene o modifcarlo, o en el caso de los metodos, lelvar a cabo operaciones con los nodos.</p>
    
    <img id="imagen" src="imagen1.jpg">
    
    <script>
        function cambiarFondo(color){
            document.getElementById('cuerpo').style.backgroundColor=color;
            document.getElementById('cuerpo').style.fontFamily="Segoe UI";
            document.getElementById('cuerpo').style.fontsize="50px";
            document.getElementById('cuerpo').style.transition="3s all";
            /*document.getElementById('cuerpo').style.webkitTransform="rotate(90deg)";*/
            /*document.getElementById('cuerpo').style.innerHTML="Hola!!";*/
        }
        function cambiarImagen(){
            document.getElementById('imagen').src="imagen2.gif";
        }
    </script>
    
    <h2>Eventos con JAVASCRIPT</h2>
    <p>Javascript como anteriormente habiamos mencionado es, un lenguaje orientado a eventos, es decir, para que una o mas funciones se lleve a cabo necesitamos de un evento que la desencadene, o en algunos otros casos, una funcion que desencadene a otra. La manera mas facil de hacer esto es por medio de los atributos ON de evento de los elementos de HTML. Estos atrivutos On pueden ejecutar codigo de JS, ya  sea directamente una linea de codigo o por medio de la invocacion de una funcion</p>'
    
    <button onclick="cambiarFondo('blue')">Cambiar Fondo azul</button>
    <button onclick="cambiarFondo('pink')">Cambiar Fondo rosa</button>
    <button onmouseout="cambiarFondo('white')">Regresar a blanco</button>
    <button onmouseover="cambiarFondo('red')">Vista previa Rojo"</button>
    
    <p>La otra forma de ejecutar un evento, es menos intrusiva, es decir, separa mejor la parte de la funconalidad del codigo contenido y estructura. esto es por medio de los llamados Event Listeners o escuchadores de eventos. un eventListener se ejecuta cada vez que escucha que un evento es especifico sucede, como que la apgina se termine de cargar. Estos tienen que ser agregados (addEventListener) a los elementos que queremos estar escuchando</p>
    
    <button id="buton1">ESCUCHAR EL CLICK</button>
    <button id="boton2">Escuchar EL MOUSE OUT</button>
    
    <script>
    //GUARDAMOS EL ELEMTO COM VARIABLE
    var btn=document.getElementById('buton1');
    var bn2=document.getElementById('boton2');
    //ESCUCHAMOS UN EVENTO DEL BOTON1
    //btn.addEventListener("mouseout",cambiarFondo("white"),true);
    //bn2.addEventListener("mouseout",cambiarFondo("red"),true);

    </script>
    
    <button onclick="vibrar()" >VIBRAR 3 SEGUNDOS</button>
    <button onclick="vibrarSOS()">VIBRAR UN SOS</button>
    <script>
        function vibrar(){
            if(navigator.vibrate){
                alert('Tu navegador puede vibrar');
                navigator.vibrate('3000');
            }else{
                alert('Tu navegador no vibra');
            }
        }
        
        function vibrarSOS(){
            navigator.vibrate(['500','100','500','100','500',
                               '1000','100','1000','100','1000',
                              '500','100','500','100','500']);
        }
    </script>
    
    <h2>API de Almacenamienot</h2>
    <p>Javascript tiene unmecanismo que le permite almacenar informacion en el navegador ya sea temporal o permanente. El API de almacenamiento nos permitira almacenar datos en forma de llave-valor(key value) que dependiendo del tipo de almacenamiento podra quedarse almacenando de forma permanente hasta que el usuario de manera intencional borre el registro (localStorage) o de forma que la informacion se alamacene mientras el navegador se encuentre abierto y se destruya en cuanto se cierre (SessionStorage). Cualquiera de las anteriores se encuentran dentro de la rama "WINDOW" del DOM y uede ser accesada sin tomar en cuenta el uso de esta rama. Los ddos tipos de almacenamiento poseen dos metodos principales: setItem que coloca un elemento en un registro y getItem que otiene el valor de un registro.</p>
    <p>Existe otra forma de almacenar elementos en el navegador y es por medio del uso directo de la "llave" como atributo, es decir: LocalStorage.llave="valor". Finalmente, para eliminar completamente un registro del almacenamiento en el navegador utilizaremos localStorage.removeItem('llave')</p>
    
    <select id="tema" onchange="cambiarTema()">
        <option>Seleciona un tema</option>
        <option value="tema1">Tema 1 (azul)</option>
        <option value="tema2">Tema 2 (verde)</option>
    </select>
    <button onclick="guardarTema()">Guardar</button>
    
    <script>
        function cambiarTema(){
            tema=document.getElementById('tema').value;
            if(tema=="tema1"){
                //QUERYSELCTOR o QUERYSELECTORALL
                //ETIQUETA
                //IDENTIFICADOR
                //CLASSLIST
                //.add() agregar, .remove(), .quitar(), .toggle() intercambio
                document.querySelector('body').classList.add('tema1');
                document.querySelector('body').classList.remove('tema2')
            }
            if(tema=="tema2"){
                document.querySelector('body').classList.add('tema2');
                document.querySelector('body').classList.remove('tema1');
            }
        }
        
        function guardarTema(){
            tema = document.getElementById('tema').value;
            //setItem(llave,valor)
            localStorage.setItem('temaFavorito', tema);
        }
        
        window.addEventListener('load',cargarTema,true);
        function cargarTema(){
            temaGuardado=localStorage.getItem('temaFavorito');
            document.querySelector('body').classList.add(temaGuardado);
        }
    </script>
    <style>
        .tema1{
            background-color: #0086C6;
            color: white;
            font-family: 'Segoe UI';
        }
        .tema2{
            background-color: #008040;
            color: #400080;
            font-family: 'Century Gothic';
            padding: 0px 200px;
            text-align: center;
        }
    </style>
    
    <h2>Geolocalizacion</h2>
    <p>Otras de las APIs que utilizan los recuros fisicos del dispositvo es la que nos permite obtener las coordenadas del usuarip. El API de geolocalizacion puede funcinar en computadoras de escritorio y dispositivos moviles que cuenten con un modulo de GPS. Esta API es un poc mas dificil de utilizar, ya que por si sola, el resultado que nos da utilizarla son las coordenadas de latitud y longitud del usuario. Debido a estom tenemos que ayudar al usuario a tener la experiencia completa de geolocalizacion por medio de software de terceros como googlemaps, mapbox, etc.</p>
    
    <button onclick="geoloca()">Obtener geolocalizacion</button><p id="geo"></p>
    <img id="mapa">
    
    <script>
        function geoloca(){
            //comprobacion
            if(navigator.geolocation){
                alert('TU NAVEGADOR PUEDE GEOLOCALIZAR')
            }
            //obtencion de posicon actual
            navigator.geolocation.getCurrentPosition(verPosicion)
        }
        function verPosicion(coordenadas){
            document.getElementById('geo').innerHTML="LAT: "+coordenadas.coords.latitude+", LON: "+coordenadas.coords.longitude;
            
            coordenadasCompletas=coordenadas.coords.latitude+ ',' +coordenadas.coords.longitude;
            
            mapaEstatico="https://maps.googleapis.com/maps/api/staticmap?center="+coordenadasCompletas+"&zoom=15&size=400x400&markers=color:blue%7Clabel:A%7C&key="+coordenadasCompletas;
            document.getElementById('mapa').src=mapaEstatico
        }
    </script>
    
    <h2>API de UserMedia</h2>
    <p>Otra de las APIs que hacen uso de los recurso de hardware del dispositivo es la que nos permite acceder a imagenes de la camara. Esta API se accede a traves de la rama NAVIGATOR del DOM y con el método getUserMedia() que recibe tres agumentos entre los parentesis: configuracion, exito y error. La primera es una serie de valores que permitirá acceder o no al audio y video, la segunda es una fucnion que recibe un argumento, que representa al video, y la ultima es una función que recive como argumento la falla del API</p>
    
    <video id="video"></video>
    <button onclick="camara()">ver camara</button>
    
    <script>
        function camara(){
            navigator.getUserMedia(
                //parametros de configuracion
                {video:true},
                //funcion, exito
                function(media){
                    video=document.getElementById('video');
                    video.src=window.URL.createObjectURL(media);
                    video.onloadedmetadata=function(){
                        video.play();
                    }
                },
                //error
                function(error){
                    console.log('Error: '+error);
                }
            )
        }
    </script>
</body>
</html>
